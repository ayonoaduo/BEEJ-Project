<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title> Sign Up and Login </title>

	<!-- add icon link -->
    <link rel = "icon" href ="nfs.png" type = "image/x-icon">  
    
    <meta name="robots" content="noimageindex, noarchive">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ffffff">
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover">
    
	<link rel="stylesheet" type="text/css" href="logsign.css">
    <link rel="stylesheet" type="text/css" href="loader.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="manifest" href="/manifest.json">
    
</head>

<body onload="myFunction()" style="margin:0;"><div id="loader"></div><div style="display:none;" id="myDiv" class="animate-bottom">

<div class="container" id="container">
<div class="form-container sign-up-container">

<form action="">
    <span> <img src="nfs.png" alt="Image Load Error" width="100" height="100"> </span>
    
	<h1>Create Account</h1>
	
	<input type="text" name="name" id="name" placeholder="Name">
	<input type="email" name="email" id="email" placeholder="Email">
    <input type="number" name="number" id="number" placeholder="Phone Number">
    <input type="code" name="code" id="code" placeholder="Authorization Code">
	<input type="password" name="password" id="password" placeholder="Password" onkeyup='check();'>
    <input type="password" name="cpassword" id="cpassword" placeholder="Confirm Password" onkeyup='check();'><span id='message'></span>
    
   	<input type="checkbox" id="terms" name="terms" value="terms">
  	<label for="terms">Click to accept <a href="terms.html" text-color=black;><u>terms and conditions</u></a></label><br>
 
	<button type="reset">Reset</button> 
	<button type="button" onclick="callAPI(document.getElementById('name').value, document.getElementById('email').value, document.getElementById('number').value, document.getElementById('password').value)">SignUp</button>

	<footer>
		&copy; 2020 BEEJ All rights reserved.
	</footer>
	
</form>
</div>

<div class="form-container sign-in-container">
<form action="#">
    
    <span> <img src="nfs.png" alt="Image Load Error" width="100" height="100"> </span>
		
	<h1>Login</h1>
		
	<input type="email" name="email" id="email" placeholder="Email">
	<input type="password" name="password" id="password" placeholder="Password">
	<a href="ResetPassword.html"><u>Forgot Your Password?</u></a>

	<button>Login</button>
	<footer>
		&copy; 2020 BEEJ All rights reserved.
	</footer>
	
</form>
</div>


<div class="overlay-container">
	<div class="overlay">
		<div class="overlay-panel overlay-left">
			<h1>Welcome Back!</h1>
			<p>Already have an account? Please login with your personal info</p>
			<button class="ghost" id="signIn">Login</button>
		</div>
		<div class="overlay-panel overlay-right">
			<h1>Hello, Friend!</h1>
			<p>Enter your details and start your journey with us</p>
			<button class="ghost" id="signUp">Sign Up</button>
		</div>
	</div>
</div>
</div>
</div>

<script type="text/javascript">
	const signUpButton = document.getElementById('signUp');
	const signInButton = document.getElementById('signIn');
	const container = document.getElementById('container');

	signUpButton.addEventListener('click', () => {
		container.classList.add("right-panel-active");
	});
	signInButton.addEventListener('click', () => {
		container.classList.remove("right-panel-active");
	});
</script>

<script> var check = function() 
    {
      if (document.getElementById('password').value != document.getElementById('cpassword').value) 
      {
          document.getElementById('message').style.color = 'red';
          document.getElementById('message').innerHTML = 'Passwords do not match';
      } 
      if (document.getElementById('password').value =='')
      {
          document.getElementById('message').style.color = 'white';
          document.getElementById('message').innerHTML = '';
      }
      if (document.getElementById('password').value == document.getElementById('cpassword').value)
      {
      	  document.getElementById('message').style.color = 'white';
      	  document.getElementById('message').innerHTML = ''; 		
      }
  	}
</script>
    
<script>
        // define the callAPI function that takes a first name and last name as parameters
        var callAPI = (name,email,number,password)=>{
        // instantiate a headers object
        var myHeaders = new Headers();
        // add content type header to object
        myHeaders.append("Content-Type", "application/json");
        // using built in JSON utility package turn object to string and store in a variable
        var raw = JSON.stringify({"name":name,"email":email,"number":number,"password":password});
		// create a JSON object with parameters for API call and store in a variable
        var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };
            // make API call with parameters and use promises to get response
            fetch("https://da5aaglb5l.execute-api.ca-central-1.amazonaws.com/dev", requestOptions)
            .then(response => response.text())
            .then(result => alert(JSON.parse(result).body))
            .catch(error => console.log('error', error));
        }
</script>
    
<script type="text/javascript" src="loader.js"> </script>
    
</body>
</html>
